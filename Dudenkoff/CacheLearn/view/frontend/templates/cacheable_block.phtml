<?php
/**
 * @var \Dudenkoff\CacheLearn\Block\CacheableBlock $block
 */
?>
<style>
.cacheable-container { border: 3px solid #4caf50; background: #e8f5e9; padding: 20px; margin: 20px 0; border-radius: 8px; }
.cacheable-container h2 { margin-top: 0; color: #2e7d32; }
</style>

<div class="cache-demo">
    <div class="cacheable-container">
        <h2>üü¢ CACHEABLE BLOCK</h2>
        
        <div class="info-box">
            <p><strong>Settings:</strong></p>
            <ul>
                <li><code>cacheable="true"</code></li>
                <li><code>cache_lifetime="300"</code> (5 minutes)</li>
                <li><code>class="Dudenkoff\CacheLearn\Block\CacheableBlock"</code></li>
                <li><strong>block_html cache:</strong> 
                    <?php if ($block->isBlockCacheEnabled()): ?>
                        <span style="color: green;">‚úÖ ENABLED</span>
                    <?php else: ?>
                        <span style="color: red;">‚ùå DISABLED</span> - Enable it with: <code>bin/magento cache:enable block_html</code>
                    <?php endif; ?>
                </li>
            </ul>
        </div>
        
        <div class="time-display" style="border-left-color: #4caf50; color: #2e7d32;">
            Generated At: <?= $escaper->escapeHtml($block->getGeneratedTime()) ?>
        </div>
        
        <div class="info-box">
            <p><strong>‚úÖ What's Happening:</strong></p>
            <ul>
                <li>This block's <strong>HTML is cached</strong></li>
                <li>The timestamp above was <strong>frozen when cache was created</strong></li>
                <li>Refresh multiple times - timestamp <strong>won't change</strong> for 5 minutes</li>
                <li>After 5 minutes, cache expires and new timestamp will be generated</li>
            </ul>
        </div>
        
        <div class="info-box">
            <p><strong>Block's Cache File:</strong></p>
            <div class="file-list">
<?= $block->renderCacheFileInfoPlaceholder(); ?>
            </div>
        </div>
    </div>
</div>

